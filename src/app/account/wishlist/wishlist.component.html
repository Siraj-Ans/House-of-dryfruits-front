@if(loading) {
<div class="flex p-6 w-16 bg-transparent items-center gap-2 justify-between">
  <app-bar-spinner></app-bar-spinner>
</div>
}@else {

<div class="flex flex-wrap py-8 gap-5">
  @for(wishedProduct of wishedProducts; track wishedProduct.id; let i = $index)
  {
  <div
    (mouseenter)="onMouseEnter(wishedProduct.id)"
    (mouseleave)="onMouseLeave(wishedProduct.id)"
    class="w-56 bg-white shadow-md rounded-xl duration-500 hover:scale-105 hover:shadow-xl"
  >
    <div class="relative">
      <img
        [src]="wishedProduct.product.productImages[0]"
        alt="Product"
        class="h-52 w-72 object-cover rounded-t-xl"
      />
      @if(iconsShowing.has(wishedProduct.id)) {

      <div class="cursor-pointer icons-container" [@showHideIcons]="state">
        <div
          class="cursor-pointer bg-gray-100 px-3 pt-3 pb-1 rounded-md hover:px-4 hover:pt-4 hover:pb-2"
        >
          <mat-icon
            (click)="onRemoveFromWhishlist(wishedProduct.id, i)"
            aria-hidden="false"
            aria-label="Example close icon"
            fontIcon="close"
          ></mat-icon>
        </div>
        <div
          class="cursor-pointer bg-gray-100 px-3 pt-3 pb-1 rounded-md hover:px-4 hover:pt-4 hover:pb-2"
        >
          <mat-icon
            class=""
            (click)="onAddToCart(wishedProduct.product)"
            aria-hidden="false"
            aria-label="Example local_mall icon"
            fontIcon="local_mall"
          ></mat-icon>
        </div>
        <div
          class="cursor-pointer bg-gray-100 px-3 pt-3 pb-1 rounded-md hover:px-4 hover:pt-4 hover:pb-2"
        >
          <mat-icon
            class=""
            (click)="onViewProduct(wishedProduct.product.id)"
            aria-hidden="false"
            aria-label="Example visibility"
            fontIcon="visibility"
          ></mat-icon>
        </div>
      </div>
      }

      <div class="px-3 py-1">
        <p
          routerLink="/cart"
          (click)="onViewProduct(wishedProduct.id)"
          class="cursor-pointer text-base font-semibold text-dark-blue truncate block capitalize"
        >
          {{ wishedProduct.product.productName }}
        </p>
        <div class="flex items-center">
          <p class="text-sm font-medium text-dark-blue cursor-auto">
            Rp {{ wishedProduct.product.priceInPKR }}
          </p>
          <!-- <del>
            <p class="text-sm text-gray-500 cursor-auto ml-2">Rp 199</p>
          </del> -->
          <div class="ml-auto">
            <mat-icon
              class="cursor-pointer"
              (click)="onAddToCart(wishedProduct.product)"
              aria-hidden="false"
              aria-label="Example shopping_cart icon"
              fontIcon="shopping_cart"
            ></mat-icon>
          </div>
        </div>
      </div>
    </div>
  </div>

  }
</div>

}
